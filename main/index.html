<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Risk-Based Quality Management in R • rbqmR</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Risk-Based Quality Management in R">
<meta property="og:description" content="rbqmR is an open-source project intended to provide utilities to 
    support risk-based quality management (RBQM) activities in clinical trials, 
    as required by ICH E6 (R2).">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">rbqmR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">

<div class="section level1">
<div class="page-header"><h1 id="rbqmr">rbqmR<a class="anchor" aria-label="anchor" href="#rbqmr"></a>
</h1></div>
<!-- badges: start -->

<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>The purpose of the <code>rbqmR</code> package is to provide a repository of r-based tools for the implementation of risk-based quality management.</p>
<p>Tools currently exist for</p>
<ul>
<li>Dynamic Quality Tolerance Limits (QTLs) using Bayesian Hierarchical Models (ongoing)</li>
<li>Observed-Minus-Expected methodology</li>
<li>Observed/Expected methodology (ongoing)</li>
</ul>
<p>This package is a work-in-progress. It’s primary focus is dynamic QTLs. Other methodologies are included for completeness.</p>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the development version of rbqmR from <a href="https://github.com/openpharma/rbqmR" class="external-link">GitHub</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("devtools")</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"openpharma/rbqmR"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="dynamic-qtls">Dynamic QTLs<a class="anchor" aria-label="anchor" href="#dynamic-qtls"></a>
</h2>
<p>We use example 2.7 of Berry et al (Berry SM 2011), described on pages 52 to 63, modifying the context so that rather than being a meta analysis of several different trials, we consider the data to represent the performance of different sites within a single trial. The exact metric being measured is immaterial, though it remains a summary of a binomial outcome.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">berrySummary</span><span class="op">)</span></span>
<span></span>
<span><span class="va">berrySummary</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span> <span class="fu">kable</span><span class="op">(</span>digits <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<thead><tr>
<th style="text-align:right;">
Site
</th>
<th style="text-align:right;">
Subjects
</th>
<th style="text-align:right;">
Events
</th>
<th style="text-align:right;">
ObservedResponse
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
20
</td>
<td style="text-align:right;">
20
</td>
<td style="text-align:right;">
1.00
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
0.40
</td>
</tr>
<tr>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
16
</td>
<td style="text-align:right;">
11
</td>
<td style="text-align:right;">
0.69
</td>
</tr>
<tr>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
19
</td>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
0.53
</td>
</tr>
<tr>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
14
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
0.36
</td>
</tr>
<tr>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
46
</td>
<td style="text-align:right;">
36
</td>
<td style="text-align:right;">
0.78
</td>
</tr>
<tr>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
0.90
</td>
</tr>
<tr>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
0.78
</td>
</tr>
<tr>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
0.67
</td>
</tr>
</tbody>
</table>
<p>The central tenet of the QTL methodology implemented in <code>rbqmR</code> is not that a current trial should behave in a similar fashion to a “similar” historical or control trial, but rather that all sites within the current trial should behave in a similar way. The justification for this assumption is that the trial’s inclusion/exclusion criteria are designed to minimise heterogeneity amongst the study population (save for that induced by differences in treatment in comparative trials).</p>
<p>We fit the Bayesian Hierarchical Model described by Berry et al …</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">fitted</span> <span class="op">&lt;-</span> <span class="va">berrySummary</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/fitBayesBinomialModel.html">fitBayesBinomialModel</a></span><span class="op">(</span>n <span class="op">=</span> <span class="va">Subjects</span>, r <span class="op">=</span> <span class="va">Events</span><span class="op">)</span></span>
<span><span class="co">#&gt; Loading required namespace: rjags</span></span>
<span><span class="va">fitted</span></span>
<span><span class="co">#&gt; $tab</span></span>
<span><span class="co">#&gt; # A tibble: 20,000 × 4</span></span>
<span><span class="co">#&gt;        p     a     b     q</span></span>
<span><span class="co">#&gt;    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;int&gt;</span></span>
<span><span class="co">#&gt;  1 0.957  6.58  2.89    98</span></span>
<span><span class="co">#&gt;  2 0.825  7.55  3.00    79</span></span>
<span><span class="co">#&gt;  3 0.556  6.48  2.45    23</span></span>
<span><span class="co">#&gt;  4 0.886  6.05  1.96    90</span></span>
<span><span class="co">#&gt;  5 0.747  7.67  3.38    62</span></span>
<span><span class="co">#&gt;  6 0.686  9.06  3.56    48</span></span>
<span><span class="co">#&gt;  7 0.689  6.61  3.24    49</span></span>
<span><span class="co">#&gt;  8 0.522  6.73  3.43    18</span></span>
<span><span class="co">#&gt;  9 0.596  6.36  3.86    30</span></span>
<span><span class="co">#&gt; 10 0.701  7.17  3.10    52</span></span>
<span><span class="co">#&gt; # … with 19,990 more rows</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $results</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; JAGS model summary statistics from 20000 samples (chains = 2; adapt+burnin = 5000):</span></span>
<span><span class="co">#&gt;                                                                           </span></span>
<span><span class="co">#&gt;       Lower95  Median Upper95    Mean      SD Mode     MCerr MC%ofSD SSeff</span></span>
<span><span class="co">#&gt; p[10] 0.36511 0.69686 0.99238 0.67978 0.16999   -- 0.0013547     0.8 15746</span></span>
<span><span class="co">#&gt; a       2.258  6.0665   9.974  6.0156  2.3002   --  0.058922     2.6  1524</span></span>
<span><span class="co">#&gt; b     0.65735   2.698  5.2671  2.8445  1.2772   --  0.034558     2.7  1366</span></span>
<span><span class="co">#&gt;                        </span></span>
<span><span class="co">#&gt;            AC.10   psrf</span></span>
<span><span class="co">#&gt; p[10] -0.0029928 1.0003</span></span>
<span><span class="co">#&gt; a        0.23967 1.0013</span></span>
<span><span class="co">#&gt; b        0.26633 1.0013</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Total time taken: 3.3 seconds</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $status</span></span>
<span><span class="co">#&gt; [1] "OK"</span></span></code></pre></div>
<p>… and use the quantiles of the posterior distribution of the probability of an event to define the QTLs for this metric. This can be done in isolation (when the trial acts as its own control) or with reference to historical data obtained from similar previous studies.</p>
<div class="section level3">
<h3 id="examples-of-qtl-evaluation-rules">Examples of QTL evaluation rules<a class="anchor" aria-label="anchor" href="#examples-of-qtl-evaluation-rules"></a>
</h3>
<blockquote>
<p>When using a Bayesian Hierarchical Model, the probabilities associated with credible intervals are generally lower than those associated with similar frequentist models. This is because BHMs permit more sources of variation. Here, the BHM permits variation between the response rates at different sites, even when considering the overall event rate for the study. The corresponding frequentist analysis assumes that all sites share common event rate, thus assuming there is no inter-site variation.</p>
</blockquote>
<div class="section level4">
<h4 id="comparison-to-constant-values">Comparison to constant value(s)<a class="anchor" aria-label="anchor" href="#comparison-to-constant-values"></a>
</h4>
<p>The <code>evaluatePointEstimateQTL</code> allows the comparison of an arbitrary scalar summary statistic (which defaults to the mean) derived from the estimate of the posterior distribution, with an arbitrary number of lower and upper limits.</p>
<p>For example, the code below defines a QTL based on the mean of the posterior distribution of the probability of an event. Call this probability <img src="https://latex.codecogs.com/png.image?%5Cdpi%7B110%7D&amp;space;%5Cbg_white&amp;space;%5Chat%7Bp%7D" title="\hat{p}" alt="\hat{p}">. The warning limits are 0.5 and 0.8. The action limits are 0.4 and 0.9.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">berrySummary</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/evaluatePointEstimateQTL.html">evaluatePointEstimateQTL</a></span><span class="op">(</span></span>
<span>    posterior <span class="op">=</span> <span class="va">fitted</span><span class="op">$</span><span class="va">tab</span>,</span>
<span>    metric <span class="op">=</span> <span class="va">p</span>,</span>
<span>    observedMetric <span class="op">=</span> <span class="va">ObservedResponse</span>,</span>
<span>    lower <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"warn"</span> <span class="op">=</span> <span class="fl">0.5</span>, <span class="st">"action"</span> <span class="op">=</span> <span class="fl">0.4</span><span class="op">)</span>,</span>
<span>    upper <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"warn"</span> <span class="op">=</span> <span class="fl">0.8</span>, <span class="st">"action"</span> <span class="op">=</span> <span class="fl">0.9</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="co">#&gt; $status</span></span>
<span><span class="co">#&gt; [1] "OK"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $qtl</span></span>
<span><span class="co">#&gt; [1] 0.6797793</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $data</span></span>
<span><span class="co">#&gt; # A tibble: 9 × 5</span></span>
<span><span class="co">#&gt;    Site Subjects Events ObservedResponse Status</span></span>
<span><span class="co">#&gt;   &lt;int&gt;    &lt;dbl&gt;  &lt;dbl&gt;            &lt;dbl&gt; &lt;chr&gt; </span></span>
<span><span class="co">#&gt; 1     1       20     20            1     action</span></span>
<span><span class="co">#&gt; 2     2       10      4            0.4   warn  </span></span>
<span><span class="co">#&gt; 3     3       16     11            0.688 OK    </span></span>
<span><span class="co">#&gt; 4     4       19     10            0.526 OK    </span></span>
<span><span class="co">#&gt; 5     5       14      5            0.357 warn  </span></span>
<span><span class="co">#&gt; 6     6       46     36            0.783 OK    </span></span>
<span><span class="co">#&gt; 7     7       10      9            0.9   warn  </span></span>
<span><span class="co">#&gt; 8     8        9      7            0.778 OK    </span></span>
<span><span class="co">#&gt; 9     9        6      4            0.667 OK</span></span></code></pre></div>
<p>As with all <code>evaluateXXXXQTL</code> functions, the return value of <code>evaluatePointEstimateQTL</code> is a list. The <code>status</code> element indicates whether or not the QTL’s limits have been breached. The <code>qtl</code> element gives the calculated value of the QTL metric and the <code>data</code> element returns a copy of the <code>data.frame</code> containing the site level KRIs augmented with a column indicating which, if any, of the various limits were breached by that site.</p>
<p>Both the <code>lower</code> and <code>upper</code> parameters are optional (though at least one must be given) and the number of limits, and their labels, are arbitrary.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">berrySummary</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/evaluatePointEstimateQTL.html">evaluatePointEstimateQTL</a></span><span class="op">(</span></span>
<span>    posterior <span class="op">=</span> <span class="va">fitted</span><span class="op">$</span><span class="va">tab</span>,</span>
<span>    metric <span class="op">=</span> <span class="va">p</span>,</span>
<span>    observedMetric <span class="op">=</span> <span class="va">ObservedResponse</span>,</span>
<span>    upper <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mild"</span> <span class="op">=</span> <span class="fl">0.6</span>, <span class="st">"moderate"</span> <span class="op">=</span> <span class="fl">0.8</span>, <span class="st">"severe"</span> <span class="op">=</span> <span class="fl">0.9</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<p>If only one limit is defined, this can be provided as a scalar, in which case it is labelled <code>action</code>.</p>
<p>The function on which the QTL is based is specified by the <code>stat</code> parameter of <code>evaluatePointEstimateQTL</code> and can be a user-defined function. For example, the following code fragments define QTLs based on the median</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">berrySummary</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/evaluatePointEstimateQTL.html">evaluatePointEstimateQTL</a></span><span class="op">(</span></span>
<span>    posterior <span class="op">=</span> <span class="va">fitted</span><span class="op">$</span><span class="va">tab</span>,</span>
<span>    metric <span class="op">=</span> <span class="va">p</span>,</span>
<span>    stat <span class="op">=</span> <span class="va">median</span>,</span>
<span>    observedMetric <span class="op">=</span> <span class="va">ObservedResponse</span>,</span>
<span>    upper <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"warn"</span> <span class="op">=</span> <span class="fl">0.7</span>, <span class="st">"action"</span> <span class="op">=</span> <span class="fl">0.9</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="co">#&gt; $status</span></span>
<span><span class="co">#&gt; [1] "OK"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $qtl</span></span>
<span><span class="co">#&gt; [1] 0.6968642</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $data</span></span>
<span><span class="co">#&gt; # A tibble: 9 × 5</span></span>
<span><span class="co">#&gt;    Site Subjects Events ObservedResponse Status</span></span>
<span><span class="co">#&gt;   &lt;int&gt;    &lt;dbl&gt;  &lt;dbl&gt;            &lt;dbl&gt; &lt;chr&gt; </span></span>
<span><span class="co">#&gt; 1     1       20     20            1     action</span></span>
<span><span class="co">#&gt; 2     2       10      4            0.4   OK    </span></span>
<span><span class="co">#&gt; 3     3       16     11            0.688 OK    </span></span>
<span><span class="co">#&gt; 4     4       19     10            0.526 OK    </span></span>
<span><span class="co">#&gt; 5     5       14      5            0.357 OK    </span></span>
<span><span class="co">#&gt; 6     6       46     36            0.783 warn  </span></span>
<span><span class="co">#&gt; 7     7       10      9            0.9   warn  </span></span>
<span><span class="co">#&gt; 8     8        9      7            0.778 warn  </span></span>
<span><span class="co">#&gt; 9     9        6      4            0.667 OK</span></span></code></pre></div>
<p>and 10th centile of the posterior distribution of <img src="https://latex.codecogs.com/png.image?%5Cdpi%7B110%7D&amp;space;%5Cbg_white&amp;space;%5Chat%7Bp%7D" title="\hat{p}" alt="\hat{p}">.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">berrySummary</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/evaluatePointEstimateQTL.html">evaluatePointEstimateQTL</a></span><span class="op">(</span></span>
<span>    posterior <span class="op">=</span> <span class="va">fitted</span><span class="op">$</span><span class="va">tab</span>,</span>
<span>    metric <span class="op">=</span> <span class="va">p</span>,</span>
<span>    stat <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/stats/quantile.html" class="external-link">quantile</a></span><span class="op">(</span><span class="va">x</span>, probs <span class="op">=</span> <span class="fl">0.1</span><span class="op">)</span>,</span>
<span>    observedMetric <span class="op">=</span> <span class="va">ObservedResponse</span>,</span>
<span>    upper <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"warn"</span> <span class="op">=</span> <span class="fl">0.3</span>, <span class="st">"action"</span> <span class="op">=</span> <span class="fl">0.8</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="co">#&gt; $status</span></span>
<span><span class="co">#&gt; [1] "warn"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $qtl</span></span>
<span><span class="co">#&gt;       10% </span></span>
<span><span class="co">#&gt; 0.4507215 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $data</span></span>
<span><span class="co">#&gt; # A tibble: 9 × 5</span></span>
<span><span class="co">#&gt;    Site Subjects Events ObservedResponse Status</span></span>
<span><span class="co">#&gt;   &lt;int&gt;    &lt;dbl&gt;  &lt;dbl&gt;            &lt;dbl&gt; &lt;chr&gt; </span></span>
<span><span class="co">#&gt; 1     1       20     20            1     action</span></span>
<span><span class="co">#&gt; 2     2       10      4            0.4   warn  </span></span>
<span><span class="co">#&gt; 3     3       16     11            0.688 warn  </span></span>
<span><span class="co">#&gt; 4     4       19     10            0.526 warn  </span></span>
<span><span class="co">#&gt; 5     5       14      5            0.357 warn  </span></span>
<span><span class="co">#&gt; 6     6       46     36            0.783 warn  </span></span>
<span><span class="co">#&gt; 7     7       10      9            0.9   action</span></span>
<span><span class="co">#&gt; 8     8        9      7            0.778 warn  </span></span>
<span><span class="co">#&gt; 9     9        6      4            0.667 warn</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="based-on-the-probability-that-the-derived-metric-is-in-a-given-range">Based on the probability that the derived metric is in a given range<a class="anchor" aria-label="anchor" href="#based-on-the-probability-that-the-derived-metric-is-in-a-given-range"></a>
</h4>
<p>Suppose previous experience tells us that the event probability in this type of study should be between 0.50 and 0.75. We define the QTL such that we require the posterior event probability for a new participant to be in the range 0.5 to 0.75 inclusive to be at least 60%, with a warning limit of 80%. Individual sites are flagged if their response rate is either below 40% or above 85%.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">qtlProbInRange</span> <span class="op">&lt;-</span> <span class="va">berrySummary</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/evaluateProbabilityInRangeQTL.html">evaluateProbabilityInRangeQTL</a></span><span class="op">(</span></span>
<span>    posterior <span class="op">=</span> <span class="va">fitted</span><span class="op">$</span><span class="va">tab</span>,</span>
<span>    metric <span class="op">=</span> <span class="va">p</span>,</span>
<span>    observedMetric <span class="op">=</span> <span class="va">ObservedResponse</span>,</span>
<span>    range <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">0.75</span><span class="op">)</span>,</span>
<span>    probs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"warn"</span> <span class="op">=</span> <span class="fl">0.8</span>, <span class="st">"action"</span> <span class="op">=</span> <span class="fl">0.6</span><span class="op">)</span>,</span>
<span>    lower <span class="op">=</span> <span class="fl">0.4</span>,</span>
<span>    upper <span class="op">=</span> <span class="fl">0.85</span></span>
<span>  <span class="op">)</span></span>
<span><span class="va">qtlProbInRange</span></span>
<span><span class="co">#&gt; $status</span></span>
<span><span class="co">#&gt; [1] "action"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $qtl</span></span>
<span><span class="co">#&gt; [1] 0.4731</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $data</span></span>
<span><span class="co">#&gt; # A tibble: 9 × 5</span></span>
<span><span class="co">#&gt;    Site Subjects Events ObservedResponse Status</span></span>
<span><span class="co">#&gt;   &lt;int&gt;    &lt;dbl&gt;  &lt;dbl&gt;            &lt;dbl&gt; &lt;chr&gt; </span></span>
<span><span class="co">#&gt; 1     1       20     20            1     action</span></span>
<span><span class="co">#&gt; 2     2       10      4            0.4   OK    </span></span>
<span><span class="co">#&gt; 3     3       16     11            0.688 OK    </span></span>
<span><span class="co">#&gt; 4     4       19     10            0.526 OK    </span></span>
<span><span class="co">#&gt; 5     5       14      5            0.357 action</span></span>
<span><span class="co">#&gt; 6     6       46     36            0.783 OK    </span></span>
<span><span class="co">#&gt; 7     7       10      9            0.9   action</span></span>
<span><span class="co">#&gt; 8     8        9      7            0.778 OK    </span></span>
<span><span class="co">#&gt; 9     9        6      4            0.667 OK</span></span></code></pre></div>
<p>Again, the QTL is breached, since the probability that the study-level event rate is in the range [0.5, 0.75] is only 0.47.</p>
</div>
<div class="section level4">
<h4 id="using-an-arbitrary-criterion">Using an arbitrary criterion<a class="anchor" aria-label="anchor" href="#using-an-arbitrary-criterion"></a>
</h4>
<p><code>evaluatePointEstimateQTL</code>, <code>evaluateProbabilityInRangeQTL</code> (and <code>evaluateSiteMetricQTL</code> discussed below) are wrappers around <code>evaluateCustomQTL</code>, which can be used to evaluate an arbitrary, user-defined QTL rule. <code>evaluateCustomQTL</code> takes the following parameters:</p>
<ul>
<li>
<code>data</code>: a tibble containing site-level observed metrics</li>
<li>
<code>posterior</code>: a tibble containing the posterior distribution of the metric, usually obtained from a fit Bayes model function.</li>
<li>
<code>f</code>: a function whose first two parameters are <code>data</code> and <code>posterior</code>, in that ordered and with those names</li>
<li>
<code>statusCol=Status</code>:</li>
<li>
<code>...</code>: additional parameters passed to <code>f</code>.</li>
</ul>
<p>Essentially, all that <code>evaluateCustomQTL</code> does is to perform some basic checks on its parameter values and then return the value returned by <code>data %&gt;% f(posterior, ...)</code>. So, for example, a simplified version of <code>evaluatePointEstimateQTL</code> that compares <img src="https://latex.codecogs.com/png.image?%5Cdpi%7B110%7D&amp;space;%5Cbg_white&amp;space;%5Chat%7Bp%7D" title="\hat{p}" alt="\hat{p}"> to 0.6 might be</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">berrySummary</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/evaluateCustomQTL.html">evaluateCustomQTL</a></span><span class="op">(</span></span>
<span>    posterior <span class="op">=</span> <span class="va">fitted</span><span class="op">$</span><span class="va">tab</span>,</span>
<span>    f <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">data</span>, <span class="va">posterior</span><span class="op">)</span> <span class="op">{</span></span>
<span>      <span class="va">rv</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span></span>
<span>      <span class="va">rv</span><span class="op">$</span><span class="va">qtl</span> <span class="op">&lt;-</span> <span class="va">posterior</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>        <span class="fu">summarise</span><span class="op">(</span>qtl <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">p</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>        <span class="fu">pull</span><span class="op">(</span><span class="va">qtl</span><span class="op">)</span></span>
<span>      <span class="va">rv</span><span class="op">$</span><span class="va">status</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">rv</span><span class="op">$</span><span class="va">qtl</span> <span class="op">&lt;</span> <span class="fl">0.6</span>, <span class="st">"OK"</span>, <span class="st">"Breach"</span><span class="op">)</span></span>
<span>      <span class="va">rv</span><span class="op">$</span><span class="va">data</span> <span class="op">&lt;-</span> <span class="va">data</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span> <span class="fu">mutate</span><span class="op">(</span>Status <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">ObservedResponse</span> <span class="op">&lt;</span> <span class="fl">0.6</span>, <span class="st">"OK"</span>, <span class="st">"Breach"</span><span class="op">)</span><span class="op">)</span></span>
<span>      <span class="va">rv</span></span>
<span>    <span class="op">}</span></span>
<span>  <span class="op">)</span></span>
<span><span class="co">#&gt; $qtl</span></span>
<span><span class="co">#&gt; [1] 0.6797793</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $status</span></span>
<span><span class="co">#&gt; [1] "Breach"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $data</span></span>
<span><span class="co">#&gt; # A tibble: 9 × 5</span></span>
<span><span class="co">#&gt;    Site Subjects Events ObservedResponse Status</span></span>
<span><span class="co">#&gt;   &lt;int&gt;    &lt;dbl&gt;  &lt;dbl&gt;            &lt;dbl&gt; &lt;chr&gt; </span></span>
<span><span class="co">#&gt; 1     1       20     20            1     Breach</span></span>
<span><span class="co">#&gt; 2     2       10      4            0.4   OK    </span></span>
<span><span class="co">#&gt; 3     3       16     11            0.688 Breach</span></span>
<span><span class="co">#&gt; 4     4       19     10            0.526 OK    </span></span>
<span><span class="co">#&gt; 5     5       14      5            0.357 OK    </span></span>
<span><span class="co">#&gt; 6     6       46     36            0.783 Breach</span></span>
<span><span class="co">#&gt; 7     7       10      9            0.9   Breach</span></span>
<span><span class="co">#&gt; 8     8        9      7            0.778 Breach</span></span>
<span><span class="co">#&gt; 9     9        6      4            0.667 Breach</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="without-historical-data">Without historical data<a class="anchor" aria-label="anchor" href="#without-historical-data"></a>
</h3>
<p>Especially early in development of a new compound, project teams often say they have no idea about what values of various metrics that could be used to define QTLs might be. For conventionally defined QTLs this can be a problem: an inappropriately chosen QTL might lead to a breach when, in reality, there is no issue. Basing the QTL on the centiles of the posterior distribution of the metric obtained from the QTL model just fitted, and recalling that the purpose of inclusion/exclusion criteria are to minimise heterogeneity, we can avoid this problem.</p>
<p>The <code>evaluateSiteMetricQTL</code> function calculates thresholds (for example warning and action limits) by translating quantiles of the posterior distribution of the metric to the real-life scale on which the metric is measured. Again, we use the Berry data as an example.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">rvSiteMetrics</span> <span class="op">&lt;-</span> <span class="va">berrySummary</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/evaluateSiteMetricQTL.html">evaluateSiteMetricQTL</a></span><span class="op">(</span></span>
<span>    posterior <span class="op">=</span> <span class="va">fitted</span><span class="op">$</span><span class="va">tab</span>,</span>
<span>    metric <span class="op">=</span> <span class="va">p</span>,</span>
<span>    observedMetric <span class="op">=</span> <span class="va">ObservedResponse</span>,</span>
<span>    lower <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"action"</span> <span class="op">=</span> <span class="fl">0.05</span>, <span class="st">"warn"</span> <span class="op">=</span> <span class="fl">0.2</span><span class="op">)</span>,</span>
<span>    upper <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"action"</span> <span class="op">=</span> <span class="fl">0.95</span>, <span class="st">"warn"</span> <span class="op">=</span> <span class="fl">0.8</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<p>The <code>quantiles</code> element of the return value contains the mappings from quantile of the posterior to observed values of the metric. For example, the first row of <code>rvSiteMetrics$quantiles</code> shows that the lower action limit is the 5th centile of the posterior, which corresponds to an event probability of 0.372.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">rvSiteMetrics</span><span class="op">$</span><span class="va">quantiles</span></span>
<span><span class="co">#&gt; # A tibble: 4 × 4</span></span>
<span><span class="co">#&gt;   Threshold Status Quantile     p</span></span>
<span><span class="co">#&gt;   &lt;chr&gt;     &lt;chr&gt;     &lt;dbl&gt; &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; 1 Lower     action     0.05 0.372</span></span>
<span><span class="co">#&gt; 2 Lower     warn       0.2  0.538</span></span>
<span><span class="co">#&gt; 3 Upper     warn       0.8  0.833</span></span>
<span><span class="co">#&gt; 4 Upper     action     0.95 0.927</span></span></code></pre></div>
<p>As before, the <code>data</code> element of the list contains a copy of the site metric dataset, augmented by a column (named <code>Status</code> by default) that allocates the observed site-level metrics (KRIs) to a band defined by the thresholds in <code>lower</code> and <code>upper</code>.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">rvSiteMetrics</span><span class="op">$</span><span class="va">data</span></span>
<span><span class="co">#&gt; # A tibble: 9 × 5</span></span>
<span><span class="co">#&gt;    Site Subjects Events ObservedResponse Status</span></span>
<span><span class="co">#&gt;   &lt;int&gt;    &lt;dbl&gt;  &lt;dbl&gt;            &lt;dbl&gt; &lt;chr&gt; </span></span>
<span><span class="co">#&gt; 1     1       20     20            1     warn  </span></span>
<span><span class="co">#&gt; 2     2       10      4            0.4   warn  </span></span>
<span><span class="co">#&gt; 3     3       16     11            0.688 OK    </span></span>
<span><span class="co">#&gt; 4     4       19     10            0.526 warn  </span></span>
<span><span class="co">#&gt; 5     5       14      5            0.357 action</span></span>
<span><span class="co">#&gt; 6     6       46     36            0.783 OK    </span></span>
<span><span class="co">#&gt; 7     7       10      9            0.9   warn  </span></span>
<span><span class="co">#&gt; 8     8        9      7            0.778 OK    </span></span>
<span><span class="co">#&gt; 9     9        6      4            0.667 OK</span></span></code></pre></div>
<blockquote>
<p>NB <code>rvSiteMetrics$data</code> contains incorrect values in the <code>Status</code> column. See <a href="https://github.com/openpharma/rbqmR/issues/12" class="external-link">issue #12</a>.</p>
</blockquote>
<p>The <code>qtl</code> element of the return value contains counts of sites by threshold name.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">rvSiteMetrics</span><span class="op">$</span><span class="va">qtl</span></span>
<span><span class="co">#&gt; # A tibble: 3 × 2</span></span>
<span><span class="co">#&gt;   Status     N</span></span>
<span><span class="co">#&gt;   &lt;chr&gt;  &lt;int&gt;</span></span>
<span><span class="co">#&gt; 1 action     1</span></span>
<span><span class="co">#&gt; 2 OK         4</span></span>
<span><span class="co">#&gt; 3 warn       4</span></span></code></pre></div>
<p>Finally, the <code>status</code> of the returned QTL is <code>"OK"</code> by default.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">rvSiteMetrics</span><span class="op">$</span><span class="va">status</span></span>
<span><span class="co">#&gt; [1] "OK"</span></span></code></pre></div>
<p>However, <code>evaluateSiteMetricQTL</code> can be passed a function that can apply an arbitrary rule to determine whether or not a breach has occurred. The function’s only argument is the <code>qtl</code> element of <code>evaluateSiteMetricQTL</code>’s return value. For example, given that we have nine sites in our fictitious example and we have calculated a 90% posterior credible interval, it’s reasonable to expect one site to lie outside this range. So we might say that a QTL breach has occurred if two or more sites lie outside the credible interval:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">(</span><span class="va">berrySummary</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/evaluateSiteMetricQTL.html">evaluateSiteMetricQTL</a></span><span class="op">(</span></span>
<span>    posterior <span class="op">=</span> <span class="va">fitted</span><span class="op">$</span><span class="va">tab</span>,</span>
<span>    metric <span class="op">=</span> <span class="va">p</span>,</span>
<span>    observedMetric <span class="op">=</span> <span class="va">ObservedResponse</span>,</span>
<span>    lower <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"action"</span> <span class="op">=</span> <span class="fl">0.5</span>, <span class="st">"warn"</span> <span class="op">=</span> <span class="fl">0.6</span><span class="op">)</span>,</span>
<span>    upper <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"action"</span> <span class="op">=</span> <span class="fl">0.9</span>, <span class="st">"warn"</span> <span class="op">=</span> <span class="fl">0.8</span><span class="op">)</span>,</span>
<span>    statusFunc <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">d</span><span class="op">)</span> <span class="op">{</span></span>
<span>      <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span></span>
<span>        <span class="va">d</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>          <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">Status</span> <span class="op">==</span> <span class="st">"action"</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>          <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/pull.html" class="external-link">pull</a></span><span class="op">(</span><span class="va">N</span><span class="op">)</span> <span class="op">&gt;=</span> <span class="fl">2</span>, <span class="st">"action"</span>, <span class="st">"OK"</span></span>
<span>      <span class="op">)</span></span>
<span>    <span class="op">}</span></span>
<span>  <span class="op">)</span><span class="op">)</span><span class="op">$</span><span class="va">status</span></span>
<span><span class="co">#&gt; [1] "action"</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="representing-the-evaluation-of-a-qtl-graphically">Representing the evaluation of a QTL graphically<a class="anchor" aria-label="anchor" href="#representing-the-evaluation-of-a-qtl-graphically"></a>
</h2>
<p>Take, as an example, a QTL that requires a study level metric to lie within a given range, as illustrated above.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">fitted</span><span class="op">$</span><span class="va">tab</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/createQtlPlot.html">createQtlPlot</a></span><span class="op">(</span></span>
<span>    targetRange <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"lower"</span> <span class="op">=</span> <span class="fl">0.5</span>, <span class="st">"upper"</span> <span class="op">=</span> <span class="fl">0.75</span><span class="op">)</span>,</span>
<span>    observedMetric <span class="op">=</span> <span class="va">fitted</span><span class="op">$</span><span class="va">tab</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span> <span class="fu">summarise</span><span class="op">(</span>Mean <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">p</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span> <span class="fu">pull</span><span class="op">(</span><span class="va">Mean</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-13-1.png" width="80%"></p>
<p>The site-level KRIs can be added to the plot to help focus attention where intervention is likely to have the largest effect.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">fitted</span><span class="op">$</span><span class="va">tab</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/createQtlPlot.html">createQtlPlot</a></span><span class="op">(</span></span>
<span>    targetRange <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"lower"</span> <span class="op">=</span> <span class="fl">0.5</span>, <span class="st">"upper"</span> <span class="op">=</span> <span class="fl">0.75</span><span class="op">)</span>,</span>
<span>    observedMetric <span class="op">=</span> <span class="va">fitted</span><span class="op">$</span><span class="va">tab</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span> <span class="fu">summarise</span><span class="op">(</span>Mean <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">p</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span> <span class="fu">pull</span><span class="op">(</span><span class="va">Mean</span><span class="op">)</span>,</span>
<span>    actionLimits <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>      <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>        <span class="st">"lower"</span> <span class="op">=</span> <span class="va">rvSiteMetrics</span><span class="op">$</span><span class="va">quantiles</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/stats/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">Threshold</span> <span class="op">==</span> <span class="st">"Upper"</span>, <span class="va">Status</span> <span class="op">==</span> <span class="st">"action"</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span> <span class="fu">pull</span><span class="op">(</span><span class="va">p</span><span class="op">)</span>,</span>
<span>        <span class="st">"upper"</span> <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>        <span class="st">"alpha"</span> <span class="op">=</span> <span class="fl">0.3</span>,</span>
<span>        <span class="st">"colour"</span> <span class="op">=</span> <span class="st">"goldenrod1"</span></span>
<span>      <span class="op">)</span>,</span>
<span>      <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>        <span class="st">"lower"</span> <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>        <span class="st">"upper"</span> <span class="op">=</span> <span class="va">rvSiteMetrics</span><span class="op">$</span><span class="va">quantiles</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/stats/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">Threshold</span> <span class="op">==</span> <span class="st">"Lower"</span>, <span class="va">Status</span> <span class="op">==</span> <span class="st">"action"</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span> <span class="fu">pull</span><span class="op">(</span><span class="va">p</span><span class="op">)</span>,</span>
<span>        <span class="st">"alpha"</span> <span class="op">=</span> <span class="fl">0.3</span>,</span>
<span>        <span class="st">"colour"</span> <span class="op">=</span> <span class="st">"goldenrod1"</span></span>
<span>      <span class="op">)</span></span>
<span>    <span class="op">)</span>,</span>
<span>    siteData <span class="op">=</span> <span class="va">berrySummary</span>,</span>
<span>    siteSize <span class="op">=</span> <span class="va">Subjects</span>,</span>
<span>    siteMetric <span class="op">=</span> <span class="va">ObservedResponse</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-createQtlPlot-1.png" width="80%"></p>
</div>
<div class="section level2">
<h2 id="observed---expected-methodology">Observed - Expected Methodology<a class="anchor" aria-label="anchor" href="#observed---expected-methodology"></a>
</h2>
<p>We generate some random data similar to that used by Gilbert (Gilbert 2020), after setting a seed for reproducibility.</p>
<p>In order to illustrate what happens when a QTL is breached, we set the probability that a participant reports an event to 0.13, even though the QTL process will assume the event rate is 0.10…</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">011327</span><span class="op">)</span></span>
<span></span>
<span><span class="va">randomData</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="op">(</span></span>
<span>  Subject <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">400</span>,</span>
<span>  Event <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Binomial.html" class="external-link">rbinom</a></span><span class="op">(</span><span class="fl">400</span>, <span class="fl">1</span>, <span class="fl">0.13</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>… and create an observed-expected table …</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">omeTable</span> <span class="op">&lt;-</span> <span class="va">randomData</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/createObservedMinusExpectedTable.html">createObservedMinusExpectedTable</a></span><span class="op">(</span></span>
<span>    timeVar <span class="op">=</span> <span class="va">Subject</span>,</span>
<span>    eventVar <span class="op">=</span> <span class="va">Event</span>,</span>
<span>    eventArray <span class="op">=</span> <span class="fl">1</span>,</span>
<span>    expectedRate <span class="op">=</span> <span class="fl">0.1</span>,</span>
<span>    maxTrialSize <span class="op">=</span> <span class="fl">400</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<p>… and plot the corresponding graph.</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">omeTable</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/createObservedMinusExpectedPlot.html">createObservedMinusExpectedPlot</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-16-1.png" width="80%"></p>
<p>We can see that the trial breached a warning limit. When did this first happen?</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">omeTable</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">Status</span> <span class="op">!=</span> <span class="st">"OK"</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">select</span><span class="op">(</span><span class="op">-</span><span class="fu">contains</span><span class="op">(</span><span class="st">"Action"</span><span class="op">)</span>, <span class="op">-</span><span class="va">SubjectIndex</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">kable</span><span class="op">(</span></span>
<span>    col.names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Subject"</span>, <span class="st">"Event"</span>, <span class="st">"Cumulative Events"</span>, <span class="st">"O - E"</span>, <span class="st">"Status"</span>, <span class="st">"Lower"</span>, <span class="st">"Upper"</span><span class="op">)</span>,</span>
<span>    caption <span class="op">=</span> <span class="st">"First breach of an action or warning limit"</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">add_header_above</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">" "</span> <span class="op">=</span> <span class="fl">5</span>, <span class="st">"Warning Limits"</span> <span class="op">=</span> <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<caption>
First breach of an action or warning limit
</caption>
<thead>
<tr>
<th style="empty-cells: hide;border-bottom:hidden;" colspan="5">
</th>
<th style="border-bottom:hidden;padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="2">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; ">
<p>Warning Limits</p>
</div>
</th>
</tr>
<tr>
<th style="text-align:right;">
Subject
</th>
<th style="text-align:right;">
Event
</th>
<th style="text-align:right;">
Cumulative Events
</th>
<th style="text-align:right;">
O - E
</th>
<th style="text-align:left;">
Status
</th>
<th style="text-align:right;">
Lower
</th>
<th style="text-align:right;">
Upper
</th>
</tr>
</thead>
<tbody><tr>
<td style="text-align:right;">
62
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
13
</td>
<td style="text-align:right;">
6.8
</td>
<td style="text-align:left;">
WARN
</td>
<td style="text-align:right;">
-5.2
</td>
<td style="text-align:right;">
5.8
</td>
</tr></tbody>
</table>
</div>
<div class="section level2">
<h2 id="observed--expected-methodology">Observed / Expected methodology<a class="anchor" aria-label="anchor" href="#observed--expected-methodology"></a>
</h2>
<p>Katz et al (Katz D 1978) calculate the confidence interval for the ratio of two binomial random variables. We use this to determine QTLs for the ratio of observed over expected proportions. The variability associated with a ratio suggests that this methodology is likely to be useful only for large studies with low expected event rates.</p>
<p>We require historical trial data to implement this methodology.</p>
<p>Suppose we have data on 10,000 historical patients who have reported a given event at a rate of 1.4%. We are planning a 1500 patient trial and have no reason to suppose the event rate in the trial will be any different from what has been seen in the past.</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/createObservedOverExpectedTable.html">createObservedOverExpectedTable</a></span><span class="op">(</span></span>
<span>  nHistorical <span class="op">=</span> <span class="fl">10000</span>,</span>
<span>  historicalRate <span class="op">=</span> <span class="fl">0.014</span>,</span>
<span>  expectedRate <span class="op">=</span> <span class="fl">0.014</span>,</span>
<span>  nObservedRange <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">50</span>, <span class="fl">1500</span>, <span class="fl">25</span><span class="op">)</span></span>
<span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/createObservedOverExpectedPlot.html">createObservedOverExpectedPlot</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-18-1.png" width="80%"></p>
<p>As the trial is executed, the observed data can be added to the table and the plot.</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">observedData</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="op">(</span></span>
<span>  NObserved <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">250</span>, <span class="fl">500</span>, <span class="fl">750</span>, <span class="fl">1000</span><span class="op">)</span>,</span>
<span>  ObservedRate <span class="op">=</span> <span class="fl">100</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">9</span>, <span class="fl">15</span>, <span class="fl">16</span><span class="op">)</span> <span class="op">/</span> <span class="va">NObserved</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="reference/createObservedOverExpectedTable.html">createObservedOverExpectedTable</a></span><span class="op">(</span></span>
<span>  nHistorical <span class="op">=</span> <span class="fl">10000</span>,</span>
<span>  historicalRate <span class="op">=</span> <span class="fl">0.014</span>,</span>
<span>  expectedRate <span class="op">=</span> <span class="fl">0.014</span>,</span>
<span>  nObservedRange <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">50</span>, <span class="fl">1500</span>, <span class="fl">25</span><span class="op">)</span>,</span>
<span>  observedData <span class="op">=</span> <span class="va">observedData</span>,</span>
<span>  observedRate <span class="op">=</span> <span class="va">ObservedRate</span></span>
<span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="reference/createObservedOverExpectedPlot.html">createObservedOverExpectedPlot</a></span><span class="op">(</span>observedRate <span class="op">=</span> <span class="va">ObservedRate</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-19-1.png" width="80%"></p>
<blockquote>
<p>TODO Need to check interpretation of parameters</p>
</blockquote>
</div>
</div>
<div class="section level1">
<h1 id="beyond-transcelerate">Beyond TransCelerate<a class="anchor" aria-label="anchor" href="#beyond-transcelerate"></a>
</h1>
<p>At the time of writing (late 2022) The TransCelerate Quality Tolerance Limit Framework (Transcelerate 2020) lists metrics that are exclusively binary in nature. There are many other potential metrics that are non-binary and which may provide insight into the conduct of the trial. For example,</p>
<ul>
<li>The number of episodes of rescue medication (as opposed to the percentage or number of trial participants on rescue medication)</li>
<li>Time to withdrawal of consent (as opposed to the percentage or number of trial participants with withdrawal of informed consent)</li>
</ul>
<p>As well as other metrics that can’t easily be dichotomised</p>
<ul>
<li>Drug plasma levels</li>
<li>Number of (S)AEs reported per time unit of drug exposure</li>
<li>Time to respond to data queries</li>
</ul>
<p>The Bayesian QTL framework implemented in <code>rbqmR</code> can easily be extended to include these other data types.</p>
<div class="section level2">
<h2 id="events-per-unit-time">Events per unit time<a class="anchor" aria-label="anchor" href="#events-per-unit-time"></a>
</h2>
<p>We use data on the numbers of Prussian cavalry officers kicked to death by horses (Bortkiewicz 1898) to illustrate the method.</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"cavalryDeaths"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">cavalryDeaths</span></span>
<span><span class="co">#&gt; # A tibble: 280 × 3</span></span>
<span><span class="co">#&gt;     Year Corps   Deaths</span></span>
<span><span class="co">#&gt;    &lt;int&gt; &lt;fct&gt;    &lt;int&gt;</span></span>
<span><span class="co">#&gt;  1  1875 Guards       0</span></span>
<span><span class="co">#&gt;  2  1875 Corps 1      0</span></span>
<span><span class="co">#&gt;  3  1875 Corps 2      0</span></span>
<span><span class="co">#&gt;  4  1875 Corps 3      0</span></span>
<span><span class="co">#&gt;  5  1875 Corps 4      0</span></span>
<span><span class="co">#&gt;  6  1875 Corps 5      0</span></span>
<span><span class="co">#&gt;  7  1875 Corps 6      0</span></span>
<span><span class="co">#&gt;  8  1875 Corps 7      1</span></span>
<span><span class="co">#&gt;  9  1875 Corps 8      1</span></span>
<span><span class="co">#&gt; 10  1875 Corps 9      0</span></span>
<span><span class="co">#&gt; # … with 270 more rows</span></span></code></pre></div>
<p>Regard different cavalry Corps as “sites” and regard the number of years for which data were collected as “exposure”.</p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cavalrySummary</span> <span class="op">&lt;-</span> <span class="va">cavalryDeaths</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">group_by</span><span class="op">(</span><span class="va">Corps</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">summarise</span><span class="op">(</span></span>
<span>    Deaths <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">Deaths</span><span class="op">)</span>,</span>
<span>    TotalTime <span class="op">=</span> <span class="fu">n</span><span class="op">(</span><span class="op">)</span>,</span>
<span>    .groups <span class="op">=</span> <span class="st">"drop"</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>DeathRate <span class="op">=</span> <span class="va">Deaths</span> <span class="op">/</span> <span class="va">TotalTime</span><span class="op">)</span></span>
<span></span>
<span><span class="va">cavalrySummary</span></span>
<span><span class="co">#&gt; # A tibble: 14 × 4</span></span>
<span><span class="co">#&gt;    Corps    Deaths TotalTime DeathRate</span></span>
<span><span class="co">#&gt;    &lt;fct&gt;     &lt;int&gt;     &lt;int&gt;     &lt;dbl&gt;</span></span>
<span><span class="co">#&gt;  1 Guards       16        20      0.8 </span></span>
<span><span class="co">#&gt;  2 Corps 1      16        20      0.8 </span></span>
<span><span class="co">#&gt;  3 Corps 2      12        20      0.6 </span></span>
<span><span class="co">#&gt;  4 Corps 3      12        20      0.6 </span></span>
<span><span class="co">#&gt;  5 Corps 4       8        20      0.4 </span></span>
<span><span class="co">#&gt;  6 Corps 5      11        20      0.55</span></span>
<span><span class="co">#&gt;  7 Corps 6      17        20      0.85</span></span>
<span><span class="co">#&gt;  8 Corps 7      12        20      0.6 </span></span>
<span><span class="co">#&gt;  9 Corps 8       7        20      0.35</span></span>
<span><span class="co">#&gt; 10 Corps 9      13        20      0.65</span></span>
<span><span class="co">#&gt; 11 Corps 10     15        20      0.75</span></span>
<span><span class="co">#&gt; 12 Corps 11     25        20      1.25</span></span>
<span><span class="co">#&gt; 13 Corps 14     24        20      1.2 </span></span>
<span><span class="co">#&gt; 14 Corps 15      8        20      0.4</span></span></code></pre></div>
<p>Although not necessary here, because data for all Corps was recorded for the same amount of time, the Poisson model used by <code>rbqmR</code> adjusts risk by total exposure at the site.</p>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/getModelString.html">getModelString</a></span><span class="op">(</span><span class="st">"poisson"</span><span class="op">)</span></span></code></pre></div>
<p>[1] “model {for (i in 1:k) {events[i] ~ dpois(mu[i])mu[i] &lt;- lambda[i]*exposure[i]lambda[i] ~ dgamma(shape, 1/scale)}scale ~ dgamma(1, 1)shape ~ dgamma(1, 1)}” Fitting the model is straightforward.</p>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">poissonFit</span> <span class="op">&lt;-</span> <span class="va">cavalrySummary</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/fitBayesPoissonModel.html">fitBayesPoissonModel</a></span><span class="op">(</span><span class="va">Deaths</span>, <span class="va">TotalTime</span><span class="op">)</span></span>
<span><span class="va">poissonFit</span><span class="op">$</span><span class="va">tab</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/createQtlPlot.html">createQtlPlot</a></span><span class="op">(</span></span>
<span>    metric <span class="op">=</span> <span class="va">lambda</span>,</span>
<span>    siteData <span class="op">=</span> <span class="va">cavalrySummary</span>,</span>
<span>    siteSize <span class="op">=</span> <span class="va">TotalTime</span>,</span>
<span>    siteMetric <span class="op">=</span> <span class="va">DeathRate</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">labs</span><span class="op">(</span>x <span class="op">=</span> <span class="st">"Deaths per year"</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-23-1.png" width="80%"></p>
</div>
</div>
<div class="section level1">
<h1 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h1>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-BERRY" class="csl-entry">
Berry SM, Lee JJ, Carlin BP. 2011. <em>Bayesian Adaptive Methods for Clinical Trials</em>. CRC Press.
</div>
<div id="ref-Bortkiewicz1898" class="csl-entry">
Bortkiewicz, Ladislaus von. 1898. “Das Gesetz Der Kleinen Zahlen.”
</div>
<div id="ref-GILBERT" class="csl-entry">
Gilbert, SA. 2020. “Implementing Quality Tolerance Limits at a Large Pharmaceutical Company.” <em>PharmaSUG</em>.
</div>
<div id="ref-KATZ" class="csl-entry">
Katz D, Azen SP, Baptista J. 1978. “Obtaining Confidence Intervals for the Risk Ratio in Cohort Studies.” <em>Biometrics</em> 34 (3): 469–74. <a href="https://doi.org/" class="external-link uri">https://doi.org/</a><a href="https://doi.org/10.2307/2530610" class="external-link uri">https://doi.org/10.2307/2530610</a>.
</div>
<div id="ref-Transcelerate2020" class="csl-entry">
Transcelerate. 2020. “Quality Tolerance Limits Framework.” Research report. Transcelerate Biopharma Inc. 2020. <a href="https://www.transceleratebiopharmainc.com/wp-content/uploads/2020/10/TransCelerate_InterpretationsOfClinical-GuidancesAndRegulations_Quality-Tolerance-Limits-Framework_October-2020.pdf" class="external-link uri">https://www.transceleratebiopharmainc.com/wp-content/uploads/2020/10/TransCelerate_InterpretationsOfClinical-GuidancesAndRegulations_Quality-Tolerance-Limits-Framework_October-2020.pdf</a>.
</div>
</div>
</div>

  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing rbqmR</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>John Kirkpatrick <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0001-7790-3708" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://CRAN.R-project.org/package=rbqmR" class="external-link"><img src="https://www.r-pkg.org/badges/version/rbqmR" alt="CRAN status"></a></li>
<li><a href="https://www.repostatus.org/#wip" class="external-link"><img src="https://www.repostatus.org/badges/latest/wip.svg" alt="Project Status: WIP – Initial development is in progress, but there has not yet been a stable, usable release suitable for the public."></a></li>
<li><a href="https://opensource.org/licenses/Apache-2.0" class="external-link"><img src="https://img.shields.io/badge/License-Apache_2.0-blue.svg" alt="License"></a></li>
<li><a href="https://github.com/openpharma/rbqmR/actions" class="external-link"><img src="https://github.com/openpharma/rbqmR/workflows/R-CMD-check/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://github.com/openpharma/rbqmR/blob/_xml_coverage_reports/data/main/coverage.xml" class="external-link"><img src="https://raw.githubusercontent.com/openpharma/rbqmR/_xml_coverage_reports/data/main/badge.svg" alt="Test Coverage"></a></li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p></p>
<p>Developed by John Kirkpatrick.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
